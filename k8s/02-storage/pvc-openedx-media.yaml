# NOTE: This EBS-based PVC is kept only as an early lab artifact.
# For production-grade Open edX (multi-replica LMS/CMS + shared uploads/media),
# EBS `ReadWriteOnce` is not suitable. Use the EFS-backed RWX media volume:
# - `infra/media-efs/` (provisions EFS + EFS CSI driver)
# - `infra/k8s/02-storage/openedx-media-efs.yaml` + `infra/k8s/02-storage/apply.sh`
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: openedx-media
  namespace: openedx-prod
spec:
  accessModes:
    - ReadWriteOnce
  storageClassName: gp3
  resources:
    requests:
      storage: 20Gi
